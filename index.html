<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess Clock Design Gallery</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px 80px;
            color: white;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
        }

        h1 {
            font-size: clamp(36px, 8vw, 72px);
            font-weight: 800;
            margin-bottom: 16px;
            letter-spacing: -0.02em;
        }

        .subtitle {
            font-size: clamp(16px, 3vw, 24px);
            opacity: 0.9;
            font-weight: 400;
        }

        .instructions {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 28px 32px;
            border: 2px solid rgba(255, 255, 255, 0.16);
            margin-bottom: 32px;
            line-height: 1.7;
        }

        .instructions h2 {
            font-size: 26px;
            margin-bottom: 12px;
        }

        .instructions code {
            background: rgba(0, 0, 0, 0.35);
            padding: 4px 8px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }

        .layout {
            display: grid;
            grid-template-columns: 340px 1fr;
            gap: 32px;
        }

        .gallery {
            display: grid;
            gap: 20px;
            position: sticky;
            top: 24px;
            align-self: start;
        }

        .design-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(18px);
            border-radius: 24px;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.15);
            transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1), border-color 0.35s ease, box-shadow 0.35s ease;
            cursor: pointer;
            color: white;
            display: block;
            text-align: left;
        }

        .design-card:hover,
        .design-card:focus-visible {
            transform: translateY(-6px);
            border-color: rgba(255, 255, 255, 0.35);
            box-shadow: 0 24px 48px rgba(0, 0, 0, 0.25);
            outline: none;
        }

        .design-card[aria-pressed="true"] {
            border-color: rgba(255, 255, 255, 0.55);
            box-shadow: 0 28px 60px rgba(0, 0, 0, 0.35);
        }

        .card-preview {
            height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 54px;
            position: relative;
        }

        .card-preview::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.04));
            opacity: 0;
            transition: opacity 0.35s ease;
        }

        .design-card:hover .card-preview::before,
        .design-card:focus-visible .card-preview::before,
        .design-card[aria-pressed="true"] .card-preview::before {
            opacity: 1;
        }

        .preview-neobrutalist {
            background: #FFFF00;
            color: #000000;
            font-family: Arial Black, sans-serif;
            font-weight: 900;
            letter-spacing: -0.02em;
        }

        .preview-glassmorphic {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .preview-zen {
            background: #FFFFFF;
            color: #C41E3A;
            font-family: system-ui, -apple-system;
            font-weight: 200;
            letter-spacing: 0.06em;
        }

        .preview-cyberpunk {
            background: #0a0e27;
            color: #FF006E;
            font-family: 'Courier New', monospace;
            font-weight: 700;
            text-shadow: 0 0 12px currentColor, 0 0 24px rgba(255, 0, 110, 0.65);
        }

        .card-info {
            padding: 22px 24px 26px;
        }

        .card-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .card-description {
            font-size: 14px;
            opacity: 0.85;
            line-height: 1.6;
            margin-bottom: 18px;
        }

        .features {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .feature-tag {
            background: rgba(255, 255, 255, 0.18);
            padding: 6px 12px;
            border-radius: 999px;
            font-size: 11px;
            font-weight: 600;
            letter-spacing: 0.04em;
        }

        .design-shell {
            background: rgba(255, 255, 255, 0.12);
            backdrop-filter: blur(24px);
            border-radius: 28px;
            border: 2px solid rgba(255, 255, 255, 0.18);
            padding: 24px 28px 32px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            min-height: 680px;
        }

        .shell-header {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            justify-content: space-between;
            align-items: center;
        }

        .shell-title {
            font-size: 24px;
            font-weight: 700;
        }

        .shell-subtitle {
            opacity: 0.85;
            font-size: 14px;
        }

        .stack-note {
            font-size: 13px;
            opacity: 0.7;
        }

        .frame-stack {
            position: relative;
            flex: 1;
            min-height: clamp(480px, 70vh, 820px);
            border-radius: 20px;
            overflow: hidden;
            background: rgba(12, 12, 26, 0.65);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        .design-frame {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            border: none;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.35s ease;
            background: #000;
        }

        .design-frame.active {
            opacity: 1;
            pointer-events: auto;
        }

        .frame-actions {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 12px;
            font-size: 14px;
        }

        .external-link {
            color: white;
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 14px;
            background: rgba(255, 255, 255, 0.18);
            border-radius: 999px;
            transition: background 0.25s ease;
        }

        .external-link:hover,
        .external-link:focus-visible {
            background: rgba(255, 255, 255, 0.32);
            outline: none;
        }

        footer {
            text-align: center;
            padding: 40px 0;
            opacity: 0.65;
            font-size: 14px;
        }

        @media (max-width: 1040px) {
            .layout {
                grid-template-columns: 1fr;
            }

            .gallery {
                position: static;
            }
        }

        @media (max-width: 640px) {
            body {
                padding: 32px 16px 60px;
            }

            .design-card {
                border-radius: 20px;
            }

            .card-preview {
                height: 150px;
                font-size: 44px;
            }

            .design-shell {
                padding: 20px;
                border-radius: 22px;
            }

            .frame-stack {
                min-height: 440px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Chess Clock Design Gallery</h1>
            <p class="subtitle">Four complete single-file experiences. Switch tabs to explore each aesthetic.</p>
        </header>

        <div class="instructions">
            <h2>ðŸš€ One Command Local Preview</h2>
            <p>Serve the entire gallery from one origin, then explore each design without juggling ports.</p>
            <p><code>python3 -m http.server 8000</code> &nbsp;<span class="stack-note">(run from this folder, then open <code>http://localhost:8000</code>)</span></p>
            <p class="stack-note">Tip: Click the clock once it loads to lock keyboard shortcuts and haptics to that design.</p>
        </div>

        <div class="layout">
            <div class="gallery" role="tablist" aria-label="Design selector">
                <button class="design-card" type="button" data-design="neobrutalist" role="tab" aria-selected="false" aria-pressed="false">
                    <div class="card-preview preview-neobrutalist">BOLD</div>
                    <div class="card-info">
                        <div class="card-title">Neo-Brutalist</div>
                        <div class="card-description">
                            Aggressive, high-contrast typography, brutalist layout, glitch energy.
                        </div>
                        <div class="features">
                            <span class="feature-tag">Gesture Controls</span>
                            <span class="feature-tag">Haptics</span>
                            <span class="feature-tag">Glitch FX</span>
                            <span class="feature-tag">Session Stats</span>
                        </div>
                    </div>
                </button>

                <button class="design-card" type="button" data-design="glassmorphic" role="tab" aria-selected="false" aria-pressed="false">
                    <div class="card-preview preview-glassmorphic">âœ¨</div>
                    <div class="card-info">
                        <div class="card-title">Glassmorphic</div>
                        <div class="card-description">
                            Frosted layers, pastel gradients, floating panels, ultra-smooth interactions.
                        </div>
                        <div class="features">
                            <span class="feature-tag">Glass Blur</span>
                            <span class="feature-tag">Theme Picker</span>
                            <span class="feature-tag">Breathing Animations</span>
                            <span class="feature-tag">Gestures</span>
                        </div>
                    </div>
                </button>

                <button class="design-card" type="button" data-design="japanese-zen" role="tab" aria-selected="false" aria-pressed="false">
                    <div class="card-preview preview-zen">ç¦…</div>
                    <div class="card-info">
                        <div class="card-title">Japanese Zen</div>
                        <div class="card-description">
                            Minimal asymmetry, breathing whitespace, ripple effects, and quiet energy.
                        </div>
                        <div class="features">
                            <span class="feature-tag">Ripple FX</span>
                            <span class="feature-tag">Breath Timer</span>
                            <span class="feature-tag">Focus Mode</span>
                            <span class="feature-tag">Zen Soundscape</span>
                        </div>
                    </div>
                </button>

                <button class="design-card" type="button" data-design="cyberpunk" role="tab" aria-selected="false" aria-pressed="false">
                    <div class="card-preview preview-cyberpunk">NEON</div>
                    <div class="card-info">
                        <div class="card-title">Cyberpunk Neon</div>
                        <div class="card-description">
                            CRT scanlines, neon glow, combo systems, and retro-futuristic pulse.
                        </div>
                        <div class="features">
                            <span class="feature-tag">CRT FX</span>
                            <span class="feature-tag">Glitch Trails</span>
                            <span class="feature-tag">Combo Meter</span>
                            <span class="feature-tag">8-bit Audio</span>
                        </div>
                    </div>
                </button>
            </div>

            <section class="design-shell" aria-live="polite">
                <div class="shell-header">
                    <div>
                        <div class="shell-title" data-active-title>Neo-Brutalist</div>
                        <div class="shell-subtitle" data-active-description>Bold borders, hard edges, unapologetic typographic punch.</div>
                    </div>
                    <a class="external-link" href="./neobrutalist/index.html" target="_blank" rel="noopener" data-external-link>
                        Open design in new tab â†’
                    </a>
                </div>

                <div class="frame-stack" data-frame-stack>
                    <!-- iframes are inserted dynamically to preserve state between switches -->
                </div>

                <div class="frame-actions">
                    <span>Keyboard: Space to pause/resume Â· R to reset Â· F to flip</span>
                    <span>Need multitouch? Load the design in a new tab and go fullscreen.</span>
                </div>
            </section>
        </div>

        <footer>
            Built as four standalone single-file apps. This gallery simply hosts them side-by-side.
        </footer>
    </div>

    <script>
        const designs = {
            'neobrutalist': {
                name: 'Neo-Brutalist',
                description: 'Bold borders, hard edges, unapologetic typographic punch.',
                path: './neobrutalist/index.html'
            },
            'glassmorphic': {
                name: 'Glassmorphic',
                description: 'Frosted layers, pastel gradients, and effortless motion.',
                path: './glassmorphic/index.html'
            },
            'japanese-zen': {
                name: 'Japanese Zen',
                description: 'Asymmetric calm, meditative pacing, and white space as a feature.',
                path: './japanese-zen/index.html'
            },
            'cyberpunk': {
                name: 'Cyberpunk Neon',
                description: 'Neon glow, CRT scanlines, glitch energy, and arcade intensity.',
                path: './cyberpunk/index.html'
            }
        };

        const cards = Array.from(document.querySelectorAll('.design-card[data-design]'));
        const activeTitle = document.querySelector('[data-active-title]');
        const activeDescription = document.querySelector('[data-active-description]');
        const externalLink = document.querySelector('[data-external-link]');
        const frameStack = document.querySelector('[data-frame-stack]');
        const preferred = localStorage.getItem('chess-clock-active-design');
        const initialDesign = designs[preferred] ? preferred : 'neobrutalist';
        const frameCache = new Map();

        function ensureFrame(designKey) {
            if (frameCache.has(designKey)) {
                return frameCache.get(designKey);
            }

            const frame = document.createElement('iframe');
            frame.setAttribute('title', designs[designKey].name + ' Chess Clock');
            frame.className = 'design-frame';
            frame.dataset.design = designKey;
            frame.loading = 'lazy';
            frame.src = designs[designKey].path;

            frame.addEventListener('load', () => {
                try {
                    frame.contentWindow.focus();
                } catch (err) {
                    console.warn('Focus hint failed for', designKey, err);
                }
            }, { once: true });

            frameStack.appendChild(frame);
            frameCache.set(designKey, frame);
            return frame;
        }

        function setActiveDesign(designKey, { focusFrame = true } = {}) {
            if (!designs[designKey]) {
                return;
            }

            const targetFrame = ensureFrame(designKey);

            frameCache.forEach((frame, key) => {
                const isActive = key === designKey;
                frame.classList.toggle('active', isActive);
                frame.setAttribute('aria-hidden', !isActive);
                if (!isActive) {
                    frame.blur();
                }
            });

            cards.forEach(card => {
                const isActive = card.dataset.design === designKey;
                card.setAttribute('aria-selected', isActive ? 'true' : 'false');
                card.setAttribute('aria-pressed', isActive ? 'true' : 'false');
                card.tabIndex = isActive ? 0 : -1;
            });

            activeTitle.textContent = designs[designKey].name;
            activeDescription.textContent = designs[designKey].description;
            externalLink.href = designs[designKey].path;
            externalLink.textContent = `Open ${designs[designKey].name} in new tab â†’`;

            localStorage.setItem('chess-clock-active-design', designKey);

            if (focusFrame) {
                requestAnimationFrame(() => {
                    try {
                        targetFrame.contentWindow.focus();
                    } catch {
                        targetFrame.focus({ preventScroll: true });
                    }
                });
            }
        }

        function rotateDesign(offset) {
            const currentIndex = cards.findIndex(card => card.getAttribute('aria-selected') === 'true');
            const nextIndex = (currentIndex + offset + cards.length) % cards.length;
            cards[nextIndex].focus();
            cards[nextIndex].click();
        }

        cards.forEach(card => {
            const designKey = card.dataset.design;

            card.addEventListener('click', () => setActiveDesign(designKey));

            card.addEventListener('keydown', event => {
                if (event.key === 'Enter' || event.key === ' ') {
                    event.preventDefault();
                    setActiveDesign(designKey);
                } else if (event.key === 'ArrowRight') {
                    event.preventDefault();
                    rotateDesign(1);
                } else if (event.key === 'ArrowLeft') {
                    event.preventDefault();
                    rotateDesign(-1);
                }
            });
        });

        document.addEventListener('keydown', event => {
            if (event.target.tagName === 'IFRAME') {
                return;
            }

            if (event.key === 'ArrowRight' && (event.metaKey || event.ctrlKey)) {
                event.preventDefault();
                rotateDesign(1);
            } else if (event.key === 'ArrowLeft' && (event.metaKey || event.ctrlKey)) {
                event.preventDefault();
                rotateDesign(-1);
            }
        });

        setActiveDesign(initialDesign, { focusFrame: false });
    </script>
</body>
</html>
            <p>â€¢ <strong>Gesture Controls</strong> - Swipe and tap to control timers</p>
            <p>â€¢ <strong>Haptic Feedback</strong> - Vibration on interactions (mobile)</p>
            <p>â€¢ <strong>Sound Effects</strong> - Unique audio for each design theme</p>
            <p>â€¢ <strong>Player Profiles</strong> - Save and select players</p>
            <p>â€¢ <strong>Session Statistics</strong> - Track games and average times</p>
            <p>â€¢ <strong>Keyboard Shortcuts</strong> - Space (pause/play), R (reset)</p>
            <p>â€¢ <strong>Customizable</strong> - Time presets and custom durations</p>
            <p>â€¢ <strong>Low Time Warnings</strong> - Visual and audio cues</p>
            <p>â€¢ <strong>Zero Dependencies</strong> - Pure HTML/CSS/JavaScript</p>
        </div>

        <footer>
            <p>Designed & Developed with Claude Code â€¢ 2025</p>
            <p>Each design demonstrates different approaches to mobile-first web development</p>
        </footer>
    </div>

    <script>
        // Prevent accidental navigation
        document.querySelectorAll('.design-card').forEach(card => {
            card.addEventListener('click', function(e) {
                const url = this.href;
                // Check if server is running by attempting to fetch
                fetch(url, { method: 'HEAD', mode: 'no-cors' })
                    .catch(() => {
                        e.preventDefault();
                        alert('Server not running! Please start the server first using the commands above.');
                    });
            });
        });
    </script>
</body>
</html>
